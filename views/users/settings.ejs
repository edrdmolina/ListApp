<% layout('layouts/boilerplate') -%>

<div class="container p-5">
    <div class="row">
        <div class="col">
            <h2 class="text-center"><%= currentUser.username %>'s Settings</h2>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <form action="/settings?_method=PUT" method="POST">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="username">Username</label>
                            <input type="text" id="username" name="username" value="<%= currentUser.username %>" class="form-control" required aria-required>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" name="email" id="email" value="<%= currentUser.email %>" class="form-control" required aria-required>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="newPassword">New Password</label>
                            <input type="password" name="newPassword" id="newPassword" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="confirm-password">Confirm Password</label>
                            <input type="password" name="confirmPassword" id="confirmPassword" class="form-control">
                            <div id="validation-message"></div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="password">Current Password</label>
                            <input type="password" name="password" id="password" class="form-control" required aria-required>
                            <small>Necessary to save any changes</small>
                        </div>
                    </div>
                </div>
                <div class="row text-right">
                    <div class="col align-self-center">
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script src="/javascripts/settings-password-confirmation.js"></script>